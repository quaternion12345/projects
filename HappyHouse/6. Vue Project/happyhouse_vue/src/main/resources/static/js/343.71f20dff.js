"use strict";(self["webpackChunkvue_board_bootstrap"]=self["webpackChunkvue_board_bootstrap"]||[]).push([[343],{4343:function(t,e,o){o.r(e),o.d(e,{default:function(){return $}});var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",{staticClass:"bv-example-row mt-3"},[o("b-row",[o("b-col",[o("b-alert",{attrs:{show:""}},[o("h3",[t._v("글보기")])])],1)],1),o("b-row",{staticClass:"mb-1"},[o("b-col",{staticClass:"text-left"},[o("b-button",{attrs:{variant:"outline-primary"},on:{click:t.listArticle}},[t._v("목록")])],1),o("b-col",{staticClass:"text-right"},[o("b-button",{staticClass:"mr-2",attrs:{variant:"outline-info",size:"sm"},on:{click:t.moveModifyArticle}},[t._v("글수정")]),o("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:t.deleteArticle}},[t._v("글삭제")])],1)],1),o("b-row",{staticClass:"mb-1"},[o("b-col",[o("b-card",{staticClass:"mb-2",attrs:{"header-html":"<h3>"+t.article.articleno+".\n          "+t.article.subject+" ["+t.article.hit+"]</h3><div><h6>"+t.article.userid+"</div><div>"+t.article.regtime+"</h6></div>","border-variant":"dark","no-body":""}},[o("b-card-body",{staticClass:"text-left"},[o("div",{domProps:{innerHTML:t._s(t.message)}})])],1)],1)],1)],1),o("comment-write",{attrs:{articleno:""+t.article.articleno}}),t.isModifyShow&&null!=this.modifyComment?o("comment-write",{attrs:{modifyComment:this.modifyComment},on:{"modify-comment-cancel":t.onModifyCommentCancel}}):t._e(),t._l(t.comments,(function(e,n){return o("comment-view",{key:n,attrs:{comment:e},on:{"m-comment":t.onModifyComment}})}))],2)},i=[],m=o(5748),s=o(4665),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"regist"},[null!=this.modifyComment?o("div",{staticClass:"regist_form"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.modicomment,expression:"modicomment"}],attrs:{id:"modicomment",name:"modicomment",cols:"35",rows:"2"},domProps:{value:t.modicomment},on:{input:function(e){e.target.composing||(t.modicomment=e.target.value)}}}),o("button",{staticClass:"small",on:{click:t.updateCommentCancel}},[t._v("취소")]),o("button",{staticClass:"small",on:{click:t.updateComment}},[t._v("수정")])]):o("div",{staticClass:"regist_form"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{id:"comment",name:"comment",cols:"35",rows:"2"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),o("button",{staticClass:"btn btn-primary",staticStyle:{margin:"30px 15px 0px 0px"},on:{click:t.registComment}},[t._v(" 등록 ")])])])},c=[],r={name:"comment-write",data(){return{userid:"SSAFY",content:"",modicomment:""}},props:{articleno:{type:String},modifyComment:{type:Object}},created(){this.modicomment=this.modifyComment.content},methods:{registComment(){m.Z.post("/comment/",{userid:"SSAFY",content:this.content,articleno:this.articleno}).then((({data:t})=>{let e="등록 처리시 문제가 발생했습니다.";"success"===t&&(e="등록이 완료되었습니다."),alert(e),this.content="",this.$store.dispatch("getComments",`/comment/article/${this.articleno}`)}))},updateComment(){m.Z.put(`/comment/${this.articleno}`,{no:this.modifyComment.no,content:this.modicomment}).then((({data:t})=>{let e="수정 처리시 문제가 발생했습니다.";"success"===t&&(e="수정이 완료되었습니다."),alert(e),this.$store.dispatch("getComments",`/comment/article/${this.modifyComment.articleno}`),this.$emit("modify-comment-cancel",!1)}))},updateCommentCancel(){this.$emit("modify-comment-cancel",!1)}}},l=r,d=o(3736),h=(0,d.Z)(l,a,c,!1,null,"2f4a0daa",null),u=h.exports,C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"comment"},[o("div",{staticClass:"head"},[t._v(t._s(t.comment.userid)+" ("+t._s(t.comment.regtime)+")")]),o("div",{staticClass:"content",domProps:{innerHTML:t._s(t.enterToBr(t.comment.content))}}),o("div",{staticClass:"cbtn"},[o("label",{on:{click:t.modifyCommentView}},[t._v("수정")]),t._v(" | "),o("label",{on:{click:t.deleteComment}},[t._v("삭제")])])])},p=[],v={name:"comment-view",data(){return{isShow:!0}},props:{comment:Object},beforeMount(){this.$store.dispatch("getComments",`/comment/article/${this.comment.articleno}`)},methods:{modifyCommentView(){this.$emit("m-comment",{no:this.comment.no,content:this.comment.content,articleno:this.comment.articleno})},deleteComment(){confirm("정말로 삭제?")&&m.Z["delete"](`/comment/${this.comment.no}`).then((({data:t})=>{let e="삭제 처리시 문제가 발생했습니다.";"success"===t&&(e="삭제가 완료되었습니다."),alert(e),this.$store.dispatch("getComments",`/comment/article/${this.comment.articleno}`)}))},enterToBr(t){if(t)return t.replace(/(?:\r\n|\r|\n)/g,"<br />")}}},f=v,b=(0,d.Z)(f,C,p,!1,null,null,null),y=b.exports,w={name:"BoardDetail",data(){return{article:{},isModifyShow:!1,modifyComment:""}},computed:{...(0,s.Se)(["comments"]),message(){return this.article.content?this.article.content.split("\n").join("<br>"):""}},components:{CommentWrite:u,CommentView:y},created(){m.Z.get(`/board/${this.$route.params.articleno}`).then((({data:t})=>{this.article=t}))},beforeMount(){this.$store.dispatch("getComments",`/comment/article/${this.$route.params.articleno}`)},methods:{listArticle(){this.$router.push({name:"boardList"})},moveModifyArticle(){this.$router.replace({name:"boardModify",params:{articleno:this.article.articleno}})},deleteArticle(){confirm("정말로 삭제?")&&this.$router.replace({name:"boardDelete",params:{articleno:this.article.articleno}})},onModifyComment(t){this.modifyComment=t,this.isModifyShow=!0},onModifyCommentCancel(t){this.isModifyShow=t}}},_=w,g=(0,d.Z)(_,n,i,!1,null,null,null),$=g.exports}}]);
//# sourceMappingURL=343.71f20dff.js.map